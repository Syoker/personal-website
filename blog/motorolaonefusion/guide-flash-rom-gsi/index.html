<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>[Guide] Flash ROM GSI • Syoker</title>
    <meta name="description" content="Guide to flash a GSI ROM on the Motorola One Fusion | Astro" />
    <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon" />

    <!-- Import components -->
    <link rel="stylesheet" href="/css/components/card.css">

    <!-- Import styles -->
    <link rel="stylesheet" href="/css/text.css">
    <link rel="stylesheet" href="/css/body.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/content.css">
    <link rel="stylesheet" href="/css/footer.css">

    <!-- Import theme -->
    <link rel="stylesheet" href="/css/theme.css">

    <!-- Import reset -->
    <link rel="stylesheet" href="/css/reset.css">

    <!-- Import media responsive -->
    <link rel="stylesheet" href="/css/mediares.css">

    <!-- Import fonts -->
    <link rel="stylesheet" href="/assets/fonts/quicksand.css">
    <link rel="stylesheet" href="/assets/fonts/source-code-pro.css">

    <!-- Import javascript -->
    <script src="/js/maintenance.js"></script>
    <script>
        var currentLanguage = 'en';
        var currentPage = '/blog/motorolaonefusion/guide-flash-rom-gsi';
    </script>
    <script src="/js/language.js"></script>


    <!-- For social media -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Syoker_" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://syoker.github.io/blog/motorolaonefusion/guide-flash-rom-gsi/" />
    <meta property="og:title" content="[Guide] Flash GSI ROM • Syoker" />
    <meta property="og:description" content="Guide to flash a GSI ROM on the Motorola One Fusion | Astro" />
    <meta property="og:image"
        content="https://raw.githubusercontent.com/Syoker/syoker.github.io/main/assets/img/banner_flashromgsi.png" />
</head>

<body class="body" style="padding: 0rem;">

    <header class="header" style="padding: 2rem 2rem 0rem 2rem;">

        <a href="/">
            <img src="/assets/img/avatar.svg" alt="Avatar" class="avatar">
        </a>

        <nav>
            <a href="/blog/motorolaonefusion/" class="tab __selected">Blog</a>
            <a href="/project/" class="tab">Projects</a>
        </nav>

    </header>

    <article class="newArticle">

        <section class="beginning">

            <h1><strong>[Guide] Flash ROM GSI</strong></h1>

            <div>

                <p>
                    In this guide, I will show you how to flash a GSI ROM on your device. This process will format your
                    device, so I recommend you to make a backup before.
                </p>
                <p>
                    All this is at your own risk, I'm not responsible for any damage caused to your device.
                </p>

            </div>

        </section>

        <section class="preparation">

            <h2><strong>¿What I need?</strong></h2>

            <ul>

                <li>
                    <h3><strong>SDK Platform Tools</strong></h3>
                    <p>
                        The <em>Android SDK Platform tools</em> are a component of the Android SDK. They include tools
                        that
                        interact with the Android platform, such as
                        <a href="https://developer.android.com/studio/command-line/adb"><code
                                class="codetext">adb</code></a>,
                        <a href="https://android.googlesource.com/platform/system/core/+/master/fastboot/#fastboot"><code
                                class="codetext">fastboot</code></a> and
                        <a href="https://developer.android.com/topic/performance/tracing/command-line"><code
                                class="codetext">systrace</code></a>.
                        These tools are required for Android app development, or if you want to unlock the bootloader of
                        your device and update it with a new system image.
                    </p>
                    <p>
                        Download link - <a class="link"
                            href="https://developer.android.com/studio/releases/platform-tools">SDK
                            Platform Tools</a>
                    </p>
                </li>

                <li>
                    <h3><strong>Motorola Drivers</strong></h3>
                    <p>This contains the USB drivers so that the PC can recognize your device and work with it when it
                        is in
                        Bootloader or Fastbootd.</p>
                    <p>
                        Download link -
                        <a class="link"
                            href="https://motorola-global-es-latam.custhelp.com/app/answers/detail/a_id/89882">Motorola</a>
                    </p>
                </li>

                <li>
                    <h3><strong>Official firmware</strong></h3>
                    <p>
                        You will need to download official firmware corresponding to your software channel for your
                        device,
                        <strong>NEVER DOWNLOAD A FIRMWARE FROM ANOTHER CHANNEL.</strong> To find out which firmware
                        corresponds to
                        your device, you need to look at the channel it belongs to in the settings app, under "About
                        phone"
                        in
                        "Software Channel".
                    </p>
                    <p>
                        Download link -
                        <a href="https://mirrors.lolinet.com/firmware/moto/astro/official/" class="link">Mirrors
                            Lolinet</a>
                    </p>
                </li>

                <li>
                    <h3><strong>Windows Terminal (optional)</strong></h3>
                    <p>
                        If you have windows 8, 8.1 or 10, download this terminal from the Windows Store, as you will get
                        a
                        feature that you will need in this guide. Once you have obtained the terminal, configure it so
                        that
                        the default profile is the command prompt (CMD).
                    </p>
                    <p>
                        Download link -
                        <a href="https://www.microsoft.com/store/productId/9N0DX20HK701" class="link">Microsoft
                            Store</a>
                    </p>
                </li>

                <li>
                    <h3><strong>USB debugging (optional)</strong></h3>
                    <p>
                        In this guide we will use USB debugging to access the bootloader mode, it is not necessary if
                        you
                        are already in bootloader mode or if you are going to access it in another way (with a buttons
                        combination), but I recommend the way it is going to be shown in this guide.
                    </p>
                    <p>
                        To enable USB debugging, you have to go to the settings app, in the "About phone" section under
                        "Build number" and tap 7 times. Then, you have to access the "Developer options" in the settings
                        app
                        under "System" and enable "USB debugging".
                    </p>
                </li>

                <li>
                    <h3><strong>Bootloader unlocked</strong></h3>
                    <p>
                        You need to have unlocked the bootloader to be able to install a Custom Recovery on your device.
                        If
                        you haven't unlocked it yet, I'll leave you the link to the guide I made explaining step by step
                        what you have to do.
                    </p>
                    <p>
                        Link of the guide -
                        <a href="/blog/motorolaonefusion/guide-unlock-bootloader/" class="link">[Guide] Unlock
                            bootloader</a>
                    </p>
                </li>

                <li>
                    <h3><strong>Custom Recovery and ROOT (optional)</strong></h3>
                    <p>
                        I recommend having a Custom Recovery and having ROOT on the device before installing a GSI,
                        since
                        GSI's have several visual problems on our device, which are fixed with Magisk modules. So, if
                        you
                        haven't installed a Custom Recovery yet, I'll leave you a link to a guide I made to install a
                        Custom
                        Recovery and also a .zip of a Magisk flashable by a Custom Recovery.
                    </p>
                    <p>
                        Link of the guide - <a href="/blog/motorolaonefusion/guide-flash-custom-recovery/"
                            class="link">[Guide]
                            Flash Custom Recovery</a>
                    </p>
                    <p>
                        Link of Magisk - <a href="/assets/files/Magisk-v25.2.zip" class="link">Magisk v25.2</a>
                    </p>
                </li>

                <li>
                    <h3><strong>Generic System Image (GSI)</strong></h3>
                    <p>
                        GSIs have different variants for each type of architecture, partition system, whether they have
                        gapps or are vanilla, and so on. Below I will show you how to distinguish each type of version.
                    </p>
                    <div class="codetext codecontent">
                        <p><code><strong>Architectures:</strong></code></p>
                        <p><code>- arm: 32-bit ARM architecture.</code></p>
                        <p><code>- a64: 32-bit ARM architecture with 64-bit binder.</code></p>
                        <p><code>- arm64: 64-bit ARM architecture.</code></p>
                        <p><code><strong>Partition system:</strong></code></p>
                        <p><code>- A: Devices with one partition (a-only).</code></p>
                        <p><code>- B: Devices with two partitions (A/B).</code></p>
                        <p><code><strong>System version:</strong></code></p>
                        <p><code>- g: Contains gapps (gapps).</code></p>
                        <p><code>- o: Contains GO version of gapps (go-gapps).</code></p>
                        <p><code>- v: Doesn't contain gapps (vanilla).</code></p>
                        <p><code>- f: Contains an open-source gapps system (floss).</code></p>
                        <p><code><strong>Superuser:</strong></code></p>
                        <p><code>- N: No superuser.</code></p>
                        <p><code>- S: Has PHH superuser (conflicts with Magisk).</code></p>
                        <p><code>- Z: Has Dynamic Superuser by Eremitein (conflicts with Magisk).</code></p>
                        <p><code><strong>Build type:</strong></code></p>
                        <p><code>- vndklite or lite: For devices with vendor vndklite or for a read-write system on normal devices.</code>
                        </p>
                        <p><code>- personal: Contains developer's personal mods.</code></p>
                        <p><code>- secure: With superuser removed.</code></p>
                        <p><code><strong>Size of gapps (if any):</strong></code></p>
                        <p><code>- Normal: Normal amount of gapps.</code></p>
                        <p><code>- Slim: With a reduced amount of gapps.</code></p>
                    </div>
                    <p>
                        To note, our device has an ARM64 architecture and an A/B partitioning system. Also note that it
                        supports a maximum image size of 3.66GB.
                    </p>
                    <p>
                        The version I personally recommend would be <code class="codetext">arm64_BgN Normal</code>.
                    </p>
                    <p>
                        Anyway, I'll leave you a link to a channel where we pass GSI ROMs that work on our device
                        perfectly,
                        the above is in case you want to try on your own GSI ROMs that are not in the channel.
                    </p>
                    <p>
                        Link of channel -
                        <a href="https://t.me/OneFusionUpdates/3" class="link">Motorola One Fusion | Updates</a>
                    </p>
                </li>

            </ul>

        </section>

        <section class="steps">

            <h2><strong>Procedure for flashing the GSI ROM</strong></h2>

            <div class="steps__div" style="padding: 1rem 0rem 0rem 0rem;">

                <ol>
                    <li>
                        <p>
                            Unzip the platform-tools folder obtained from <strong>Android Developers</strong>page, then
                            unzip the official firmware file obtained from <strong>Mirrors Lolinet</strong> and also unzip the
                            GSI file and move all the files from this folder to the platform-tools folder.
                        </p>
                    </li>
                </ol>

                <img src="/assets/img/guide_example-of-folder.png" alt="guide_example-of-folder">

            </div>

            <div class="steps__div">

                <ol>
                    <li value="2">
                        <p>
                            If you have the <strong>Windows Terminal</strong> obtained from the <strong>Microsoft
                                Store</strong>, simply open the CMD inside the folder by right-clicking on an empty part
                            of the folder and selecting the "Open in Terminal" option.
                        </p>
                    </li>
                </ol>

                <video src="/assets/video/opencommandprompt.mp4" autoplay loop muted></video>

                <p style="padding-inline: 3rem 2rem">
                    If you don't have the <strong>Windows Terminal</strong>, inside the folder in an empty space,
                    shift+right-click and select the option "Open PowerShell window here", type <code
                        class="codetext">cmd</code> inside the window and press enter.
                </p>

                <video src="/assets/video/openwindowspowershell.mp4" autoplay loop muted></video>

            </div>

            <ol>

                <li value="3">
                    <p>
                        Connect the device to the PC, type in the CMD <code class="codetext">adb devices</code> (the phone
                        has to be on for this command to work, in case it is already in bootloader, type <code
                            class="codetext">fastboot devices</code>) and press enter. If the console doesn't return
                    </p>
                    <div class="codetext codecontent">
                        <pre><code>List of devices   attached</code></pre>
                        <pre><code>ZE222BZWFF        device</code></pre>
                    </div>
                    <p>
                        then make sure you have your device properly connected, or have enabled USB debugging.
                    </p>
                </li>
    
                <li>
                    <p>
                        Now reboot to the bootloader (if you aren't in it) with <code
                            class="codetext">adb reboot bootloader</code> or with the key combination "volume - and power"
                        (you have to hold down these buttons until the bootloader screen appears).
                    </p>
                    <p>
                        Either way, this will access the bootloader, which has a screen with text and the Android robot
                        lying down with an open lid.
                    </p>
                </li>
    
                <li>
                    <p>
                        Once in fastbootd, we will set the active partition of the device in the A with:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot --set-active=a</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        We will then proceed to disable the <a href="https://source.android.com/security/verifiedboot/avb"
                            class="link">AVB</a> with the command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot --disable-verification flash vbmeta vbmeta.img</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        Once verified boot is disabled, we will delete the current system and then install the one we want
                        with the following command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot erase system</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        Now we will flash a <a href="/assets/files/product_gsi.img" class="link">special product</a> (paste
                        the downloaded file inside the platform-tools folder and don't change the name) that will give us
                        more space for the GSI with the following command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot flash product product_gsi.img</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        Now it's time to flash the GSI ROM, we will use the following command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot flash system "system.img"</code></p>
                    </div>
                    <p>
                        Where "system.img" is the name of the GSI ROM, without the quotes and with the ".img".
                    </p>
                </li>
    
                <li>
                    <p>
                        After installing the GSI ROM, we will expand the partition size to have more space for the modules
                        we will install, this step is optional, but recommended (keep in mind that this command will cause
                        bootloop if you have not previously rooted the phone). We will use the following command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot resize-logical-partition system_a 3800000000</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        Now let's reboot to bootloader with <code class="codetext">fastboot reboot bootloader</code> to
                        format the device (if you skip this step, you may get a bootloop) with the following command:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot -w</code></p>
                    </div>
                    <p>
                        If this command doesn't work, you can use this one:
                    </p>
                    <div class="codetext codecontent">
                        <p><code>fastboot erase userdata</code></p>
                    </div>
                </li>
    
                <li>
                    <p>
                        Once the system is formatted, boot into it with <code class="codetext">fastboot reboot</code> and
                        you're done.
                    </p>
                </li>

            </ol>

        </section>

        <section class="steps" style="padding-top: 1rem;">

            <h2><strong>Solutions and tips</strong></h2>

            <div class="steps__div" style="padding: 1rem 0rem 0rem 0rem;">

                <ul>

                    <li>
                        <h3><strong>IMEI backup</strong></h3>
                        <p>
                            Always make a backup of your IMEI in case of a possible case of IMEI loss. All you have to do is,
                            from OrangeFox or TWRP go to the backup section, select an external storage (SD card) and add a new
                            backup, selecting the folders EFS, Modem and Persist.
                        </p>
                    </li>

                </ul>

                <img src="/assets/img/guide_imei-backup.png" alt="guide_imei-backup">

                <ul>

                    <li>
                        <h3><strong>eMMC life</strong></h3>
                        <p>
                            To see the life of your eMMC (the internal storage) just run the command I'm going to leave you from
                            <a href="https://f-droid.org/repo/com.termux_118.apk" class="link">Termux</a>. You need to root your
                            device.
                        </p>
                        <div class="codetext codecontent">
                            <p><code>su -c cat /sys/class/mmc_host/mmc0/mmc0:0001/life_time</code></p>
                        </div>
                        <p>
                            Your eMMC is in danger if the answer to this command is 0x08 0x03 or more, the closer its number is
                            to the above mentioned, the more worn out your eMMC is. The number of a new eMMC is 0x01 0x01.
                        </p>
                    </li>

                </ul>

                <img src="/assets/img/guide_emmc-life.png" alt="guide_emmc-life">

                <ul>

                    <li>
                        <h3><strong>Solution to the SMS problem</strong></h3>
                        <p>
                            To solve the problem of SMS not arriving, simply go to "Settings/Phh Treble Settings/IMS features"
                            and select the option "Install IMS APK for Qualcomm vendor", then wait for the apk to install (a
                            warning banner will pop up) and reboot the device.
                        </p>
                    </li>

                </ul>

                <img src="/assets/img/guide_solution-to-sms-problem.png" alt="guide_solution-to-sms-problem">

                <ul>

                    <li>
                        <h3><strong>Device certification</strong></h3>
                        <p>
                            If you have the Play Store certification issue (you will notice when you get a notification saying
                            "This device is not certified") what you need to do is install the <a
                                href="https://play.google.com/store/apps/details?id=com.evozi.deviceid" class="link">Device
                                ID</a> app, inside the app copy the GSF ID (Google Service Framework ID), with that ID, register
                            it on Google <a href="https://www.google.com/android/uncertified" class="link">here</a> (paste your
                            ID in the only text entry place on the page and tap the "Register" button), then restart the phone
                            and clear the Google Play Store data under "App Info/Storage and Cache/Free up storage space" and
                            you're done (it takes a while to apply).
                        </p>
                    </li>

                </ul>

                <img src="/assets/img/guide_device-certification.png" alt="guide_device-certification">

            </div>

        </section>

        <section class="end" style="padding-top: 1rem;">

            <p>
                If you have any questions, please visit the Telegram group in Spanish (currently doesn't exist in
                English) of our device <a href="https://t.me/MotorolaOneFusionES" class="link">Motorola One Fusion |
                    Español™</a> (If you find any translation errors, let me know via this group or by md on <a
                    href="https://t.me/Syoker" class="link">telegram</a>).
            </p>
            <p style="text-align: end;"><em>Regards, Yours sincerely Syoker</em></p>

        </section>

    </article>

</body>

</html>